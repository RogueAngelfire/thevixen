{"ast":null,"code":"import axios from 'axios';\nimport { BASKET_ADD_ITEM, BASKET_REMOVE_ITEM, BASKET_SAVE_DELIVERY_ADDRESS } from '../constants/basketConstants';\nexport const addToBasket = (id, qty) => async (dispatch, getState) => {\n  const {\n    data\n  } = await axios.get(`/api/products/${id}`);\n  dispatch({\n    type: BASKET_ADD_ITEM,\n    payload: {\n      product: data._id,\n      name: data.name,\n      image: data.image,\n      price: data.price,\n      stockCount: data.stockCount,\n      qty\n    }\n  });\n  localStorage.setItem('basketItems', JSON.stringify(getState().basket.basketItems));\n};\nexport const removeFromBasket = id => (dispatch, getState) => {\n  dispatch({\n    type: BASKET_REMOVE_ITEM,\n    payload: id\n  });\n  localStorage.setItem('basketItems', JSON.stringify(getState().basket.basketItems));\n};\nexport const saveDeliveryAddress = data => dispatch => {\n  dispatch({\n    type: BASKET_SAVE_DELIVERY_ADDRESS,\n    payload: data\n  });\n  localStorage.setItem('deliveryAddress', JSON.stringify(data));\n};","map":{"version":3,"sources":["/Users/robincollins/Desktop/thevixen/frontend/src/actions/basketActions.js"],"names":["axios","BASKET_ADD_ITEM","BASKET_REMOVE_ITEM","BASKET_SAVE_DELIVERY_ADDRESS","addToBasket","id","qty","dispatch","getState","data","get","type","payload","product","_id","name","image","price","stockCount","localStorage","setItem","JSON","stringify","basket","basketItems","removeFromBasket","saveDeliveryAddress"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,EAA0BC,kBAA1B,EAA8CC,4BAA9C,QAAkF,8BAAlF;AAEA,OAAO,MAAMC,WAAW,GAAG,CAACC,EAAD,EAAKC,GAAL,KAAa,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AACpE,QAAM;AAACC,IAAAA;AAAD,MAAS,MAAMT,KAAK,CAACU,GAAN,CAAW,iBAAgBL,EAAG,EAA9B,CAArB;AAEAE,EAAAA,QAAQ,CAAC;AACPI,IAAAA,IAAI,EAACV,eADE;AAEPW,IAAAA,OAAO,EAAE;AACPC,MAAAA,OAAO,EAACJ,IAAI,CAACK,GADN;AAEPC,MAAAA,IAAI,EAACN,IAAI,CAACM,IAFH;AAGPC,MAAAA,KAAK,EAACP,IAAI,CAACO,KAHJ;AAIPC,MAAAA,KAAK,EAACR,IAAI,CAACQ,KAJJ;AAKPC,MAAAA,UAAU,EAACT,IAAI,CAACS,UALT;AAMPZ,MAAAA;AANO;AAFF,GAAD,CAAR;AAYAa,EAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAed,QAAQ,GAAGe,MAAX,CAAkBC,WAAjC,CAApC;AACD,CAhBM;AAmBP,OAAO,MAAMC,gBAAgB,GAAIpB,EAAD,IAAQ,CAACE,QAAD,EAAWC,QAAX,KAAwB;AAC/DD,EAAAA,QAAQ,CAAC;AACPI,IAAAA,IAAI,EAACT,kBADE;AAEPU,IAAAA,OAAO,EAAEP;AAFF,GAAD,CAAR;AAKAc,EAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAed,QAAQ,GAAGe,MAAX,CAAkBC,WAAjC,CAApC;AACA,CAPM;AASP,OAAO,MAAME,mBAAmB,GAAIjB,IAAD,IAAWF,QAAD,IAAc;AACzDA,EAAAA,QAAQ,CAAC;AACPI,IAAAA,IAAI,EAACR,4BADE;AAEPS,IAAAA,OAAO,EAAEH;AAFF,GAAD,CAAR;AAKAU,EAAAA,YAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwCC,IAAI,CAACC,SAAL,CAAeb,IAAf,CAAxC;AACA,CAPK","sourcesContent":["import axios from 'axios'\nimport { BASKET_ADD_ITEM, BASKET_REMOVE_ITEM, BASKET_SAVE_DELIVERY_ADDRESS } from '../constants/basketConstants'\n\nexport const addToBasket = (id, qty) => async (dispatch, getState) => {\n  const {data} = await axios.get(`/api/products/${id}`)\n\n  dispatch({\n    type:BASKET_ADD_ITEM,\n    payload: {\n      product:data._id,\n      name:data.name,\n      image:data.image,\n      price:data.price,\n      stockCount:data.stockCount,\n      qty\n    }\n  })\n\n  localStorage.setItem('basketItems', JSON.stringify(getState().basket.basketItems))\n}\n\n\nexport const removeFromBasket = (id) => (dispatch, getState) => {\n dispatch({\n   type:BASKET_REMOVE_ITEM,\n   payload: id,\n })\n\n localStorage.setItem('basketItems', JSON.stringify(getState().basket.basketItems))\n}\n\nexport const saveDeliveryAddress = (data) => (dispatch) => {\n  dispatch({\n    type:BASKET_SAVE_DELIVERY_ADDRESS,\n    payload: data,\n  })\n \n  localStorage.setItem('deliveryAddress', JSON.stringify(data))\n }"]},"metadata":{},"sourceType":"module"}